<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.lsy.dao.system.dict.LocationDao">
    <select id="getLocations" resultType="com.lsy.entity.system.SysDict">
        SELECT
            s1.dictId,
            s1.DictName,
            s2.DictName fatherLocal,
            s1.lng,
            s1.lat,
            s1.DictType
        FROM
	      sys_dict s1
        LEFT JOIN sys_dict s2 ON s1.pid = s2.DictID
        WHERE
            s1.DictType = 'building'
        AND s2.DictType = 'buildingarea'
        limit #{begin},#{rows}
    </select>
    <select id="getCounts" resultType="integer">
         SELECT
            count(s1.dictId)
        FROM
	      sys_dict s1
        LEFT JOIN sys_dict s2 ON s1.pid = s2.DictID
        WHERE
            s1.DictType = 'building'
        AND s2.DictType = 'buildingarea'
    </select>
</mapper>